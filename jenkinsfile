pipeline{
agent any
stages 
{
stage('install') 
{
steps{
 sh "npm install"
}
}
stage('build') 
{
steps{
sh 'npm run build --prod'
}
}

stage('Deploy') 
{
steps{
echo "Deploying the Project.........."
/* sh "cp /var/lib/jenkins/workspace/maven-pipeline-1/target/*.war /opt/tomcat/webapps/" */
ansiblePlaybook credentialsId: '132b5d09-6627-4eb8-979d-9479f67d8ad7', disableHostKeyChecking: true, installation: 'ansible', inventory: 'dev.inv', playbook: 'play-deploy.yml', sudoUser: null
}
}
}
}
